<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MONITE - Auxílio Oficial</title>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <style>
        :root {
            --primary-red: #ff0000;
            --dark-bg: #000000;
            --card-bg: #0d0d0d;
            --item-bg: #161616;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            background-color: var(--dark-bg);
            color: #ffffff;
            font-family: 'Segoe UI', Roboto, sans-serif;
            overflow-x: hidden;
        }

        .page-section {
            display: none;
            min-height: 100vh;
            width: 100%;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .active { display: flex; opacity: 1; }

        header {
            background-color: #050505;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--primary-red);
            position: fixed;
            top: 0; width: 100%; z-index: 100;
            box-sizing: border-box;
        }

        .btn-dash {
            background-color: var(--primary-red);
            color: white;
            padding: 10px 25px;
            border-radius: 12px;
            font-weight: bold;
            border: none;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
        }

        /* LOGIN */
        .login-box { width: 90%; max-width: 350px; text-align: center; }
        .logo-img { width: 180px; margin-bottom: 20px; filter: drop-shadow(0 0 8px red); }
        
        .input-dark {
            width: 100%; padding: 16px; margin-bottom: 12px;
            background: #0a0a0a; border: 1px solid #333;
            border-radius: 10px; color: white; box-sizing: border-box;
            outline: none; transition: 0.3s;
        }
        .input-dark:focus { border-color: var(--primary-red); box-shadow: 0 0 5px var(--primary-red); }

        .btn-login {
            width: 100%; padding: 16px;
            background: var(--primary-red); border: none;
            border-radius: 12px; color: white;
            font-weight: bold; cursor: pointer; font-size: 16px;
            text-transform: uppercase;
        }

        /* PAINEL (RIAN XITER STYLE) */
        .xiter-card {
            background: var(--card-bg);
            width: 330px;
            border-radius: 15px;
            padding: 25px;
            border: 1px solid #222;
            box-shadow: 0 0 30px rgba(0,0,0,0.8);
        }

        .xiter-title { font-size: 22px; font-weight: bold; margin-bottom: 20px; display: block; text-align: left; }

        .group-box {
            background: var(--item-bg);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: left;
        }

        .group-header {
            color: var(--primary-red);
            font-size: 13px;
            margin-bottom: 12px;
            display: block;
            font-weight: bold;
            text-transform: uppercase;
        }

        .option {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            font-size: 15px;
            cursor: pointer;
        }

        .option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            accent-color: var(--primary-red);
            cursor: pointer;
        }

        .btn-inject {
            width: 100%;
            background: var(--primary-red);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            margin-top: 5px;
        }

        .status-info {
            font-size: 11px;
            color: #555;
            margin-top: 15px;
            display: block;
            text-align: center;
        }
    </style>
</head>
<body>

<audio id="snd" src="https://www.soundjay.com/buttons/sounds/button-3.mp3" preload="auto"></audio>

<header>
    <img src="https://cdn.discordapp.com/attachments/1455438934241968198/1457148470313095334/1688.png?ex=695d95c3&is=695c4443&hm=e4b83721ac2b0837181ca7fb01c907ba8110dd856f659917e3239ff1d2710694&" height="35" style="border-radius: 5px;">
    <button class="btn-dash" onclick="play(); changePage('loginPage')">DASHBOARD</button>
</header>

<section id="homePage" class="page-section active">
    <img src="https://cdn.discordapp.com/attachments/1455438934241968198/1457148470313095334/1688.png?ex=695d95c3&is=695c4443&hm=e4b83721ac2b0837181ca7fb01c907ba8110dd856f659917e3239ff1d2710694&" class="logo-img" style="width: 220px;">
    <h1 style="font-size: 2.2rem; text-align: center; margin-top: 0;">VEM PRA <span style="color:red">MONITE</span></h1>
    <a href="https://discord.gg/h458A3HM6V" style="color:red; text-decoration:none; border:2px solid red; padding:15px 30px; border-radius:10px; font-weight:bold; text-transform:uppercase;" onclick="play()">Entrar no Servidor</a>
</section>

<section id="loginPage" class="page-section">
    <div class="login-box">
        <img src="https://cdn.discordapp.com/attachments/1455438934241968198/1457148470313095334/1688.png?ex=695d95c3&is=695c4443&hm=e4b83721ac2b0837181ca7fb01c907ba8110dd856f659917e3239ff1d2710694&" class="logo-img">
        <input type="text" id="uIn" class="input-dark" placeholder="Username">
        <input type="password" id="kIn" class="input-dark" placeholder="Key de Acesso">
        <button class="btn-login" onclick="play(); loginOnline()">Login Now</button>
    </div>
</section>

<section id="userPanel" class="page-section">
    <div class="xiter-card">
        <span class="xiter-title">Painel Rian Xiter</span>
        
        <div class="group-box">
            <span class="group-header">▼ Sistema Avançado</span>
            <label class="option"><input type="checkbox" checked> 120 FPS</label>
            <label class="option"><input type="checkbox" checked> No Recoil</label>
        </div>

        <div class="group-box">
            <span class="group-header">▼ Ajustes de Mira</span>
            <label class="option"><input type="checkbox" checked> Aimbot 90%</label>
            <label class="option"><input type="checkbox" checked> Neural Aim</label>
        </div>

        <button class="btn-inject" onclick="play(); alert('SCRIPTS INJETADOS COM SUCESSO!')">INJETAR SCRIPTS</button>
        
        <span class="status-info" id="expiraAviso">Sincronizando tempo...</span>
        <p onclick="location.reload()" style="font-size:10px; color:#333; cursor:pointer; margin-top:10px;">SAIR / LOGOUT</p>
    </div>
</section>

<script>
    // Configurações do seu Firebase (Baseado no seu google-services.json)
    const firebaseConfig = {
      apiKey: "AIzaSyDAMtwamXqmR2fFB9Ynb1UBXv-FQlOoA-8",
      databaseURL: "https://site-7f78d-default-rtdb.firebaseio.com",
      projectId: "site-7f78d",
    };
    
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function play() { 
        const a = document.getElementById('snd'); 
        a.volume = 1.0; 
        a.currentTime = 0; 
        a.play(); 
    }

    function changePage(id) {
        document.querySelectorAll('.page-section').forEach(s => { 
            s.classList.remove('active'); 
            s.style.opacity = '0'; 
        });
        const p = document.getElementById(id);
        p.classList.add('active');
        setTimeout(() => p.style.opacity = '1', 50);
    }

    function loginOnline() {
        const u = document.getElementById('uIn').value;
        const k = document.getElementById('kIn').value;
        const finger = btoa(navigator.userAgent).substring(0, 15);

        if(!u || !k) return alert("Preencha todos os campos!");

        db.ref('users/' + u).once('value', (s) => {
            const data = s.val();
            
            if(data && data.key === k) {
                
                // 1. VERIFICAÇÃO DE TEMPO (EXPIRAÇÃO)
                const agora = Date.now();
                if(agora > data.expiracao) {
                    return alert("ACESSO EXPIRADO! Compre uma nova key.");
                }

                // 2. VERIFICAÇÃO DE IP (TRAVA)
                if(data.type === "single") {
                    if(!data.ip) {
                        // Primeiro login: Registra o IP no banco
                        db.ref('users/' + u).update({ ip: finger });
                        entrarSucesso(data.expiracao);
                    } else if(data.ip !== finger) {
                        alert("ERRO: ESTA KEY JÁ ESTÁ EM USO EM OUTRO DISPOSITIVO!");
                    } else {
                        entrarSucesso(data.expiracao);
                    }
                } else {
                    // Se for do tipo global, entra direto
                    entrarSucesso(data.expiracao);
                }
            } else {
                alert("USUÁRIO OU KEY INCORRETOS!");
            }
        });
    }

    function entrarSucesso(expData) {
        const diasRestantes = Math.ceil((expData - Date.now()) / (1000 * 60 * 60 * 24));
        document.getElementById('expiraAviso').innerText = "Sua key expira em: " + diasRestantes + " dia(s)";
        alert("LOGIN REALIZADO COM SUCESSO!");
        changePage('userPanel');
    }
</script>
</body>
</html>
